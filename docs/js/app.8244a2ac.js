(function(e){function n(n){for(var r,o,i=n[0],s=n[1],u=n[2],l=0,f=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(n);while(f.length)f.shift()();return c.push.apply(c,u||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,i=1;i<t.length;i++){var s=t[i];0!==a[s]&&(r=!1)}r&&(c.splice(n--,1),e=o(o.s=t[0]))}return e}var r={},a={app:0},c=[];function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=r,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var u=0;u<i.length;u++)n(i[u]);var d=s;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("7a23");function a(e,n,t,a,c,o){var i=Object(r["n"])("Welcome");return Object(r["k"])(),Object(r["b"])(i)}var c={key:0},o={class:"card-container card-top"},i={class:"card-title"},s={class:"card-body"},u=Object(r["e"])("div",{class:"card-action"},null,-1);function d(e,n,t,a,d,l){var f=Object(r["n"])("Scene");return e.currentScene("Welcome")?(Object(r["k"])(),Object(r["d"])("div",c,[Object(r["e"])("div",o,[Object(r["e"])("div",i,[Object(r["e"])("h1",null,Object(r["o"])(e.getLabel("welcome_title")),1)]),Object(r["e"])("div",s,[Object(r["e"])("p",null,Object(r["o"])(e.getLabel("welcome_body")),1)]),u]),Object(r["f"])(f)])):Object(r["c"])("",!0)}var l=t("5530");function f(e,n,t,a,c,o){var i=Object(r["n"])("Camera"),s=Object(r["n"])("Loader"),u=Object(r["n"])("Scene",!0),d=Object(r["n"])("Renderer");return Object(r["k"])(),Object(r["b"])(d,{ref:"renderer",resize:"window"},{default:Object(r["r"])((function(){return[Object(r["f"])(i,{position:c.cameraPosition,lookAt:c.cameraLookAt},null,8,["position","lookAt"]),Object(r["f"])(u,{background:"#000000",ref:"scene"},{default:Object(r["r"])((function(){return[Object(r["f"])(s,{ref:"loader",payload:{blenderSceneName:"scene1"}},null,512)]})),_:1},512)]})),_:1},512)}t("4de4"),t("d3b7"),t("b0c0");var g=t("5502"),v={data:function(){return{cameraPosition:{x:2,y:1,z:2},cameraLookAt:{x:0,y:0,z:0}}},mounted:function(){var e=this;this.scene=this.$refs.scene,this.renderer=this.$refs.renderer,this.$store.commit("stages/setScene",this.scene),this.$store.commit("stages/setRenderer",this.renderer),this.renderer.onBeforeRender((function(){e.update()}))},computed:Object(l["a"])({},Object(g["c"])({gltf:"stages/getGLTF"})),methods:{update:function(){this.gltf&&(this.gltf.children.filter((function(e){return"Flights"===e.name}))[0].rotation.z+=.1)}}},m=t("d959"),p=t.n(m);const b=p()(v,[["render",f]]);var h=b,S={components:{Scene:h},computed:Object(l["a"])({},Object(g["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};const x=p()(S,[["render",d]]);var y=x,O={name:"App",components:{Welcome:y},mounted:function(){this.$store.dispatch("stages/onAppLoad")}};const j=p()(O,[["render",a]]);var L=j,w=(t("7db0"),t("b64b"),{welcome_title:["Worlds","Mons"],welcome_body:["Exploration of planets with different airplanes","Exploration of planets with different airplanes"]}),P=function(){return{languages:{ENG:0,CAT:1},language:0}},T={getLabel:function(e){return function(n){return w[n]?w[n][e.language]:"No label"}},getLanguage:function(e){return Object.keys(e.languages).find((function(n){return e.languages[n]===e.language}))}},_={setLanguage:function(e,n){var t=e.commit;t("setLanguage",n)}},k={setLanguage:function(e,n){e.language=e.languages[n]}},A={namespaced:!0,state:P,getters:T,actions:_,mutations:k},F=(t("caad"),t("2532"),function(){return{stages:["Welcome","About","Scene1","Scene2","Scene3","Survey","Final"],currentStageIndex:0,sceneLoading:!1,sceneReporting:!1,scene:null,renderer:null,gltfScene:null,sceneCamera:0}}),z={isCurrentStage:function(e){return function(n){return e.stages[e.currentStageIndex]==n}},currentStageIsScene:function(e){return e.stages[e.currentStageIndex].includes("Scene")},isSceneLoading:function(e){return e.sceneLoading},isSceneReporting:function(e){return e.sceneReporting},getSceneCamera:function(e){return e.sceneCamera},getGLTF:function(e){return e.gltfScene},getRenderer:function(e){return e.renderer},isLastStage:function(e){return e.currentStageIndex==e.stages.length-1}},C={onAppLoad:function(e){var n=e.commit,t=e.getters;t.currentStageIsScene&&n("loadingStart")},nextStage:function(e){var n=e.commit,t=e.getters;t.isLastStage||n("nextStage"),t.currentStageIsScene&&n("loadingStart"),t.isLastStage&&n("saveData")},addGLTFScene:function(e,n){var t=e.commit;t("addToScene",n),t("setGLTFScene",n)},loadingFinish:function(e){var n=e.commit;n("removeLoading"),n("loadingEnd")}},E={nextStage:function(e){e.currentStageIndex++},setScene:function(e,n){e.scene=n},setRenderer:function(e,n){e.renderer=n},setGLTFScene:function(e,n){e.gltfScene=n},removeLoading:function(e){e.scene.remove(e.scene.scene.getObjectByName("loadingPlane"))},addToScene:function(e,n){e.scene.add(n)},loadingStart:function(e){e.sceneLoading=!0,e.sceneReporting=!1},loadingEnd:function(e){e.sceneLoading=!1},reportStart:function(e){e.sceneReporting=!0},reportEnd:function(e){e.sceneReporting=!1},saveData:function(){this.dispatch("data/saveData",{root:!0})},nextCamera:function(e){e.sceneCamera++}},R={namespaced:!0,state:F,getters:z,actions:C,mutations:E},M=Object(g["a"])({modules:{data:A,stages:R}}),N=t("af1e");function I(e,n,t,a,c,o){var i=Object(r["n"])("ShaderMaterial"),s=Object(r["n"])("Plane");return Object(r["k"])(),Object(r["b"])(s,{ref:"loadingScreen",width:2,height:2,position:{y:-2,z:0}},{default:Object(r["r"])((function(){return[Object(r["f"])(i,{props:{vertexShader:c.vs,fragmentShader:c.fs,uniforms:c.us}},null,8,["props"])]})),_:1},512)}var D=t("5a89"),G=t("cffa"),$="\nvarying vec2 vUv;\nuniform float uTime;\nvarying float vTime;\nvoid main()\n{\n    gl_Position = vec4(position, 1.0);\n    vUv = uv;\n    vTime = uTime;\n}\n",W="\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying float vTime;\n\nvec4 permute(vec4 x)\n{\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\n\nvec2 fade(vec2 t)\n{\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    float strength = 1.0 - step(sin(vTime*0.6), sin(cnoise(vUv * 10.0) * 20.0));\n    gl_FragColor = vec4(vec3(strength), uAlpha);\n}\n",B={data:function(){return{FADETIME:1,us:{uAlpha:{value:1},uTime:{value:0}},vs:$,fs:W}},mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.loadingScreen.mesh.name="loadingPlane",this.loadingScreenMaterial=this.loadingScreen.material,this.loadingScreenMaterial.transparent=!0,this.clock=new D["o"]},methods:Object(l["a"])(Object(l["a"])({},Object(g["b"])({loadingFinish:"stages/loadingFinish"})),{},{finish:function(){var e=this;G["a"].to(this.loadingScreenMaterial.uniforms.uAlpha,{duration:this.FADETIME,value:0,onComplete:function(){e.loadingFinish()}})},update:function(){var e=this.clock.getElapsedTime();this.us.uTime.value=e}})};const U=p()(B,[["render",I]]);var J=U;function Y(e,n,t,a,c,o){var i=Object(r["n"])("LoadBlender");return Object(r["k"])(),Object(r["b"])(i,{ref:"blender",sceneName:t.payload.blenderSceneName},null,8,["sceneName"])}var q={props:{payload:Object}};const H=p()(q,[["render",Y]]);var K=H;function Q(e,n,t,a,c,o){return Object(r["k"])(),Object(r["d"])("div")}t("159b");var V=t("34ad"),X=t("0ca5"),Z={props:["sceneName"],mounted:function(){var e=this;if(this.isLoaded=!1,this.sceneName){var n=new D["mc"],t=new X["a"],r=new V["a"];t.setDecoderPath("./assets/draco/"),r.setDRACOLoader(t);var a=n.load("./assets/scenes/".concat(this.sceneName,"/baked.jpg"));a.flipY=!1;var c=new D["nb"]({map:a}),o=new D["nb"]({color:16777215});r.load("./assets/scenes/".concat(this.sceneName,"/scene.glb"),(function(n){n.scene.traverse((function(e){e.material=c})),n.scene.children.filter((function(e){return e.name.includes("Light")})).forEach((function(e){return e.material=o})),e.addScene(n.scene),e.isLoaded=!0}))}else this.isLoaded=!0},methods:Object(l["a"])({},Object(g["b"])({addScene:"stages/addGLTFScene"}))};const ee=p()(Z,[["render",Q]]);var ne=ee;Object(r["a"])(L).use(M).use(N["a"]).component("LoadingScreen",J).component("Loader",K).component("LoadBlender",ne).mount("#app")}});
//# sourceMappingURL=app.8244a2ac.js.map